# config.yaml - 자동매매 시스템 설정

api:
  base_url: "https://openapi.koreainvestment.com:9443"
  websocket_url: "ws://ops.koreainvestment.com:21000"
  request_timeout: 15

system:
  token_refresh_margin_minutes: 5
  approval_margin_seconds: 1800
  state_file: "/tmp/auto-sell-order-state.json"
  graceful_shutdown_timeout: 30
  max_reconnect_attempts: 10
  base_reconnect_delay: 5

trading:
  profit_margin: 0.03
  exchange_code: "NASD"
  default_order_type: "00"
  timezone: "US/Eastern"
  default_symbol: "AAPL"

telegram:
  polling_interval: 10
  error_polling_interval: 30
  timeout: 10

rate_limit:
  requests_per_second: 1
  daily_limit: 5000
  hourly_limit: 500
  min_request_interval: 2.5
  consecutive_limit: 10
  cooldown_on_limit: 60
  aggressive_mode_limit: 1000
  smart_mode_limit: 2000

polling:
  aggressive:
    interval: 3
    time_ranges:
      - {start: "17:00", end: "22:30"}
  
  smart:
    initial_interval: 5
    max_interval: 30
    backoff_multiplier: 1.2
    no_change_threshold: 5
    consecutive_success_speedup: true
    time_ranges:
      - {start: "00:30", end: "09:00"}
    order_age_factor:
      - {minutes: 5, interval: 10}
      - {minutes: 15, interval: 20}
      - {default: 30}
  
  ws_mode:
    time_ranges:
      - {start: "22:30", end: "06:00"}

strategy:
  aggressive_strategy:
    target_profit_margin: 0.03
  smart_strategy:
    target_profit_margin: 0.03

logging:
  level: "INFO"